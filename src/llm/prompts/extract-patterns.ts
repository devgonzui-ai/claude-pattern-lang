/**
 * パターン抽出用プロンプトを生成する
 */
export function buildExtractPrompt(sessionContent: string): string {
  return `あなたはソフトウェア開発のパターン分析専門家です。
以下のClaude Codeセッションログを分析し、再利用可能なパターンを抽出してください。

## 抽出対象

1. **プロンプトパターン** (type: prompt)
   - 効果的だった指示の構造や言い回し
   - 特定の結果を引き出すプロンプトテクニック

2. **問題解決パターン** (type: solution)
   - 繰り返し使われた調査・デバッグ手順
   - 特定の問題に対する解決アプローチ

3. **コードパターン** (type: code)
   - プロジェクト固有のコーディングイディオム
   - 繰り返し生成された構造やテンプレート

## 出力形式

以下のYAML形式で出力してください。パターンが見つからない場合は空の配列を返してください。

\`\`\`yaml
patterns:
  - name: パターン名（短く識別しやすい名前）
    type: prompt | solution | code
    context: どのような状況で使うか（1-2文）
    problem: 解決する問題（任意、1文）
    solution: 解決策の要約（2-3文）
    example: 具体的な使用例（任意）
    example_prompt: プロンプト例（type=promptの場合）
    tags: [関連タグ]
\`\`\`

## 注意事項

- 汎用的すぎるパターン（例：「エラーハンドリング」だけ）は避け、具体的な手法を記述
- プロジェクト固有の文脈が重要な場合は context に明記
- 機密情報（APIキー、パスワード、内部URL等）は含めない
- 1セッションから抽出するパターンは最大5個まで

## セッションログ

${sessionContent}`;
}
